@using WelliDO.APIResponses;
@model FoodModel;
@{
    ViewBag.Title = "Lucky Choice!";
    List<PlaceResult> places = Model.Places;
    var rng = new Random();
    var lucky = places[rng.Next(0, (places.Count() - 1))];
}




<body style="background-image:linear-gradient(to bottom, #4b00ad,white);">
    <div class="accordion md-accordion" id="accordionEx" role="tablist" aria-multiselectable="true">
        <div class="container-fluid" style="width:100%; padding-top:20px">
            <h1 class="text-center text-dark border" style="border-radius:20px; background-image: linear-gradient(to bottom right, #aba5b2,white)">@lucky.name</h1>
            <div class="row" style="padding:0px;">
                <div class="col-sm-5" style="padding-right:0px; max-width:fit-content;">
                    <div class="container-fluid" style="box-shadow:2px 2px 4px; padding:0px; max-height: 225px; max-width:340px; float:left;">
                        <div id="carouselControls1" class="carousel slide" data-interval="false">
                            <div class="carousel-inner" style="max-height:225px;">
                                @if (lucky.photos != null)
                                {
                                    <div class="carousel-item active" style="">
                                        <a href="#"><img class="d-block w-100" style="image-rendering: optimizequality;" src="@FoodModel.GetPhotoURL(lucky.photos[0].photo_reference)" /></a>
                                    </div>
                                    @for (int i = 1; i < lucky.photos.Length; i++)
                                    {
                                        <div class="carousel-item" style="">
                                            <a href="#"><img class="d-block w-100" style="image-rendering: optimizequality;" src="@FoodModel.GetPhotoURL(lucky.photos[i].photo_reference)" /></a>
                                        </div>
                                    }
                                }
                                else
                                {
                                    <div class="carousel-item active">
                                        <a href="#"><img class="d-block w-75" src="~/css/images/No_image_available.png" /></a>
                                    </div>
                                }
                            </div>
                            <a class="carousel-control-prev" href="#carouselControls1" role="button" data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#carouselControls1" role="button" data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-sm-2" style="padding:0px; height:225px">
                    <div class="card-header" style="background-color:inherit; border-bottom:0px; float:left;" role="tab" id="headingOne">
                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionEx" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne1">
                            <img style="width:25px;" src="~/css/images/address-icon.png">
                        </a>
                        <br style="margin:10px;" />
                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionEx" href="#collapseTwo" aria-expanded="true" aria-controls="collapseOne1">
                            <img style="width:25px;" src="~/css/images/google-maps.png">
                        </a>

                    </div>
                </div>
            </div>
            <div class="row" style="border:1px">
                <div class="container-fluid">
                    <div id="collapseOne" class="collapse" role="tabpanel" style="background-color:rgba(0,0,0,.1)" aria-labelledby="headingOne" data-parent="#accordionEx">
                        <div class="card-body">
                            @(lucky.formatted_address)
                        </div>
                    </div>
                    <div id="collapseTwo" class="collapse" role="tabpanel" style="background-color:rgba(0,0,0,.1)" aria-labelledby="headingOne" data-parent="#accordionEx">
                        <div class="card-body">
                            <a href="@lucky.url" target="_blank">Get Directions!</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>


